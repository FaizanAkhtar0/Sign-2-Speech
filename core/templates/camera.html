{% extends 'base.html' %}
{% block content %}
    {% load static %}
    {% csrf_token %}
    <div id="particles-js"></div>
    <div class="container">
        <div class="row">
            <div class="col-sm-1 col-md-1 col-lg-1"></div>
            <div class="col-sm-10 col-md-10 col-lg-10">
                <div><a href="/" type="button" class="btn btn-lg btn-primary mt-3 mb-2 custom-lead-button" style="border-radius: 50%;">&#8592; Back</a></div>
                <div class="col-sm-3 col-md-3 col-lg-3"></div>
                    <div id="feed-container" class="jumbotron jumbotron-fluid custom-img-feed mt-5">
                </div>
            </div>
            <div class="col-sm-1 col-md-1 col-lg-1"></div>
        <div class="row">
            <div class="col-sm-3 col-md-3 col-lg-3"></div>
            <div class="col-sm-6 col-md-6 col-lg-6">
                <div class="jumbotron jumbotron-fluid custom-img-feed mt-5">
                    <div class="row">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                        <a type="button" onclick="create_img()" class="btn btn-lg btn-primary mb-5 custom-lead-button" style="border-radius: 50%;">Start Camera</a>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4">
                            <a href="/stop_feed" type="button" onclick="delete_img()" class="btn btn-lg btn-primary mb-5 custom-lead-button" style="border-radius: 50%;">Stop Camera</a>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4">
                            <a href="/history" type="button" class="btn btn-lg btn-primary mb-5 custom-lead-button" style="border-radius: 50%;">Open History</a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3"></div>
            </div>
        </div>
    </div>
    <script src="{% static 'bs5/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'bs5/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'js/particles.js' %}"></script>
    <script>
        function create_img(){
            div_element = document.getElementById("feed-container");
            feed_element = document.createElement("img");
            feed_element.setAttribute("src", "/start_feed");
            feed_element.setAttribute("id", "feed");
            div_element.appendChild(feed_element);
        }
        function delete_img(){
            var elem = document.getElementById("feed");
            elem.parentNode.removeChild(elem);
        }
    </script>
    <script src="{% static 'js/base_effect.js' %}">
    </script>
{% endblock %}